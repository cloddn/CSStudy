# 생성 패턴

태그: 디자인 패턴
부가 태그: 정처기

**📌✔**

## #디자인 패턴이란?

> 소프트웨어를 설계할 때 특정 맥락에서 자주 발생하는 고질적인 문제들이 또 발생했을 때 재사용할 할 수있는 훌륭한 해결책
> 

<aside>
✏️ 패턴이란?

- 각기 다른 소프트웨어 모듈이나 기능을 가진 다양한 응용 소프트웨어 시스템들을 개발할 때도 서로 간에 공통되는 설계 문제가 존재하며 이를 처리하는 해결책 사이에도 공통점이 있다. 이러한 유사점
- 공통의 언어를 만들어주며 팀원 사이의 의사 소통을 원활하게 해주는 아주 중요한 역할
</aside>

## **📌 디자인 패턴의 종류**

- GoF 디자인 패턴
    - 디자인 패턴을 3가지로 분류하고, 생성 (Creational) , 구조 (Structural), 행위(Behavioral) 로 정의함

### **✔**GoF 디자인 패턴의 분류

![스크린샷 2023-08-06 오후 10.33.43.png](%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%204dcd41a4d17445eb920222fe33083620/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-08-06_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.33.43.png)

1. 생성(Creational) 패턴
    - 객체 생성에 관련된 패턴
    - 객체의 생성과 조합을 캡슐화해 특정 객체가 생성되거나 변경되어도 프로그램 구조에 영향을 크게 받지 않도록 유연성을 제공한다.
2. 구조(Structural) 패턴
    - 클래스나 객체를 조합해 더 큰 구조를 만드는 패턴
    - 예를 들어 서로 다른 인터페이스를 지닌 2개의 객체를 묶어 단일 인터페이스를 제공하거나 객체들을 서로 묶어 새로운 기능을 제공하는 패턴이다.
3. 행위(Behavioral)
    - 객체나 클래스 사이의 알고리즘이나 책임 분배에 관련된 패턴
    - 한 객체가 혼자 수행할 수 없는 작업을 여러 개의 객체로 어떻게 분배하는지, 또 그렇게 하면서도 객체 사이의 결합도를 최소화하는 것에 중점을 둔다.

## #생성 패턴 종류

### **📌 (1) 추상 팩토리 패턴 -Abstract Factory 패턴**

![images-ha0kim-post-444e3677-c194-48d7-bff8-b2954fd7db2b-image.png](%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%204dcd41a4d17445eb920222fe33083620/images-ha0kim-post-444e3677-c194-48d7-bff8-b2954fd7db2b-image.png)

- 비슷한 속성의 객체들을 인터페이스로 규격화된 팩토리에서 일관된 방식으로 생성하고, 생성된 객체끼리는 쉽게 교체될 수 있도록 고안한 패턴
- 추상 팩토리 패턴은 상세화된 서브클래스를 정의하지 않고도 서로 관련성이 있거나 독립적인 여러 객체의 군을 생성하기 위한 인터페이스를 제공

### **📌 (2) 빌더 패턴 -Builder 패턴**

![images-ha0kim-post-326dda3f-9151-4882-8339-374445f2f233-image.png](%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%204dcd41a4d17445eb920222fe33083620/images-ha0kim-post-326dda3f-9151-4882-8339-374445f2f233-image.png)

- 복잡한 객체를 생성하는 방법을 정의하는 클래스와 표현하는 방법을 정의하는 클래스를 별도로 분리하여, 서로 다른 표현이라도 이를 생성할 수 있는 동일한 절차를 제공하는 패턴
- 빌더 패턴은 많은 Optional한 멤버 변수(혹은 파라미터)나 지속성 없는 상태 값들에 대해 처리해야 하는 문제들을 해결한다.

### **📌 (3) 프로토타입 패턴 -Prototype 패턴**

![images-ha0kim-post-ee7554ce-a74b-460a-8c31-a10250e99807-image.png](%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%204dcd41a4d17445eb920222fe33083620/images-ha0kim-post-ee7554ce-a74b-460a-8c31-a10250e99807-image.png)

- 프로토타입은 주로 실제 제품을 만들기에 앞서 대략적인 샘플 정도의 의미로 사용되는 단어
- 생성할 객체들의 타입이 프로토타입인 인스턴스로부터 결정되도록 하며 인스턴스는 새 객체를 만들기 위해 자신을 복제(clone)하게 된다.
- 패턴을 구현하려면 우선 clone() 메소드를 선언하는 추상 클래스를 하나 만든다.
- 다형적 생성자(polymorphic constructor) 기능이 필요한 클래스가 있다면 위의 추상 클래스를 상속받게 한 후, clone() 메소드 내의 코드를 구현

### **📌 (4) 팩토리메소드 패턴 -Factory Method 패턴**

- 개념
    - **객체 생성 처리를 서브 클래스로 분리**해 처리하도록 캡슐화하는 패턴
    - 즉, 객체의 생성 코드를 별도의 클래스/메서드로 분리함으로써 객체 생성의 변화에 대비하는 데 유용하다.
    - 특정 기능의 구현은 개별 클래스를 통해 제공되는 것이 바람직한 설계다.
        - 기능의 변경이나 상황에 따른 기능의 선택은 해당 객체를 생성하는 코드의 변경을 초래한다.
        - 상황에 따라 적절한 객체를 생성하는 코드는 자주 중복될 수 있다.
        - 객체 생성 방식의 변화는 해당되는 모든 코드 부분을 변경해야 하는 문제가 발생한다.
- 역할이 수행하는 작업
    
    ![factory-method-pattern.png](%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%204dcd41a4d17445eb920222fe33083620/factory-method-pattern.png)
    
    - Product
        - 팩토리 메서드로 생성될 객체의 공통 인터페이스
    - ConcreteProduct
        - 구체적으로 객체가 생성되는 클래스
    - Creator
        - 팩토리 메서드를 갖는 클래스
    - ConcreteCreator
        - 팩토리 메서드를 구현하는 클래스로 ConcreteProduct 객체를 생성
    - 팩토리 메서드 패턴의 개념과 적용 방법
        1. 객체 생성을 전담하는 별도의 **Factory 클래스 이용**
            - 스트래티지 패턴과 싱글턴 패턴을 이용한다.
            - 해당 Post에서는 이 방법을 기준으로 팩토리 메서드 패턴을 적용한다.
        2. **상속 이용**: 하위 클래스에서 적합한 클래스의 객체를 생성
            - 스트래티지 패턴, 싱글턴 패턴과 템플릿 메서드 패턴을 이용한다.
            - 해당 Post의 맨 하단에 '다른 방법으로 팩토리 메서드 패턴 적용하기'를 확인한다.
    - 예시
        - 여러 가지 방식의 엘리베이터 스케줄링 방법 지원하기

### **📌 (5) 싱글톤 패턴 -Singleton 패턴**

- 개념
    - 전역 변수를 사용하지 않고, 객체를 하나만 생성하도록 하여 생성된 객체를 어디에서든지 참조할 수 있도록 하는 패턴임
    
- 역할이 수행하는 작업
    - 하나의 인스턴스만을 생성하는 책임이 있으며, getInstance 메서드를 통해 모든 클라이언트에게 동일한 인스턴스를 반환하는 작업을 수행함
        
        ![singleton-example.png](%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%204dcd41a4d17445eb920222fe33083620/singleton-example.png)
        
    - 예시) 프린터 관리자 만들기

### 📌**템플릿메소드 패턴 -Template Method 패턴**

- 개념
    - 어떤 작업을 처리하는 일부분을 서브 클래스로 캡슐화하여 전체 일을 수행하는 구조는 바꾸지 않으면서, 특정 단계에서 수행하는 내역을 바꾸는 패턴
        - 즉, **전체적으로 동일**하면서, **부분적으로는 다른 구문으로 구성된 메서드의 코드 중복**을 최소화할 때 유용함
        - 다른 관점에서 볼경우, 동일한 기능을 상위 클래스에서 정의하면서 확장 및 변화가 필요한 부분만 서브클래스에서 구현할 수 있도록 함
        - 예시) 전체적인 알고리즘은 상위 클래스에서 구현하고, 다른 부분들은 하위 클래스에서 구현할 수 있도록 함으로서 전체적인 알고리즘 코드를 재사용하는데에 유용함
- 역할이 수행하는 작업
    - Abstract Class
        - 템플릿 메서드를 정의하는 클래스
        - 하위 클래스에 공통 알고리즘을 정의하고, 하위 클래스에서 구현될 기능을 primitive 메서드 또는 hook 메서드로 정의함
    - ConcreteClass
        - 물려받은 primitive 메서드 또는 hook 메서드를 구현하는 클래스
        - 상위 클래스에 구현된 템플릿 메서드의 일반적인 알고리즘에서 하위 클래스에 적합하게 primitive 메서드나 hook 메서드를 오버라이드하는 클래스
        - 예시) 여러 회사의 모터 지원하기
    
    ![template-method-pattern.png](%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%204dcd41a4d17445eb920222fe33083620/template-method-pattern.png)
    

🔗 [https://github.com/WeareSoft/tech-interview/blob/master/contents/designpattern.md](https://github.com/WeareSoft/tech-interview/blob/master/contents/designpattern.md)

🔗 [https://velog.io/@ha0kim/Design-Pattern-생성-패턴Creational-Patterns](https://velog.io/@ha0kim/Design-Pattern-%EC%83%9D%EC%84%B1-%ED%8C%A8%ED%84%B4Creational-Patterns)